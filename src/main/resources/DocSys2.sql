CREATE TABLE `file` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '档案序号',`code` varchar(255) CHARACTER SET utf8 NULL COMMENT '档案编号',`state` int(1) NULL COMMENT '档案状态0提档1在档2借档',`person_id` int(11) NULL COMMENT '人员序号',`department_id` int(11) NULL COMMENT '存档位置',`age` int(1) NULL COMMENT '档案年龄1一致2早于3晚于4未知',`check` int(1) NULL COMMENT '信息整理0未整理1已整理',`inside` varchar(3000) CHARACTER SET utf8 NULL COMMENT '档案所含内容',`remark` varchar(3000) CHARACTER SET utf8 NULL COMMENT '档案备注',PRIMARY KEY (`id`));CREATE TABLE `person` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '人员序号',`number` varchar(18) CHARACTER SET utf8 NULL COMMENT '证件号码',`name` varchar(20) CHARACTER SET utf8 NULL COMMENT '人员姓名',`sex` int(1) NULL COMMENT '人员性别1男2女',`phone` varchar(20) CHARACTER SET utf8 NULL COMMENT '联系电话',`address` varchar(50) CHARACTER SET utf8 NULL COMMENT '联系地址',PRIMARY KEY (`id`));CREATE TABLE `user` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '用户序号',`name` varchar(5) CHARACTER SET utf8 NULL COMMENT '用户姓名',`login` varchar(20) CHARACTER SET utf8 NULL COMMENT '登录名称',`password` varchar(20) CHARACTER SET utf8 NULL COMMENT '登录密码',`state` int(1) NULL COMMENT '用户状态0禁用1启用',`department_id` int NULL COMMENT '部门序号',PRIMARY KEY (`id`));CREATE TABLE `department` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '部门序号',`name` varchar(30) CHARACTER SET utf8 NULL COMMENT '部门名称',`phone` varchar(20) CHARACTER SET utf8 NULL COMMENT '部门电话',`address` varchar(50) CHARACTER SET utf8 NULL COMMENT '部门地址',PRIMARY KEY (`id`));CREATE TABLE `flow` (`id` int NOT NULL AUTO_INCREMENT COMMENT '序号',`time` datetime NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '流转时间',`type` int(1) NULL COMMENT '流转类型1存档2提档3借档4还档5重存',`file_id` int(11) NULL COMMENT '档案序号',`user_id` int(11) NULL COMMENT '用户序号',`reason` varchar(50) CHARACTER SET utf8 NULL COMMENT '流转原因',`source` varchar(50) CHARACTER SET utf8 NULL COMMENT '流转方向',`delivery` int(1) NULL COMMENT '传递方式1个人2专人3邮寄4其他',`remark` varchar(999) CHARACTER SET utf8 NULL COMMENT '备注',PRIMARY KEY (`id`));CREATE TABLE `personChange` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '序号',`person_id` int(11) NULL COMMENT '人员序号',`user_id` int(11) NULL COMMENT '用户序号',`time` datetime NULL ON UPDATE CURRENT_TIMESTAMP COMMENT '变更时间',`content` varchar(3000) CHARACTER SET utf8 NULL COMMENT '变更前内容',PRIMARY KEY (`id`));ALTER TABLE `file` ADD CONSTRAINT `file_person` FOREIGN KEY (`person_id`) REFERENCES `person` (`id`);ALTER TABLE `file` ADD CONSTRAINT `file_department` FOREIGN KEY (`department_id`) REFERENCES `department` (`id`);ALTER TABLE `flow` ADD CONSTRAINT `flow_file` FOREIGN KEY (`file_id`) REFERENCES `file` (`id`);ALTER TABLE `flow` ADD CONSTRAINT `flow_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);ALTER TABLE `user` ADD CONSTRAINT `user_department` FOREIGN KEY (`department_id`) REFERENCES `department` (`id`);ALTER TABLE `personChange` ADD CONSTRAINT `change_person` FOREIGN KEY (`person_id`) REFERENCES `person` (`id`);ALTER TABLE `personChange` ADD CONSTRAINT `change_user` FOREIGN KEY (`user_id`) REFERENCES `user` (`id`);